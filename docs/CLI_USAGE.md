# RenLocalizer CLI Usage Guide

RenLocalizer CLI is a command-line interface for the RenLocalizer tool, allowing you to use its powerful translation features in headless environments, automation scripts, and on non-Windows platforms (macOS/Linux).

## Requirements

- **Python 3.9+**
- **PyQt6** (Required for core functionality)
- **aiohttp** (For translation requests)

Install dependencies using:
```bash
pip install -r requirements.txt
```

## Interactive Mode (Recommended for Beginners)

Simply run without any arguments to start the interactive menu:

```bash
python run_cli.py
```

Or explicitly with the `-i` flag:
```bash
python run_cli.py -i
```

The interactive wizard will guide you through:
1. **File/Folder Selection**: Enter your game path
2. **Target Language**: Choose from 9 popular languages or enter custom code
3. **Operation Mode**: Auto, Full, or Translate-only
4. **Settings**: Configure source language, engine, proxy, verbose mode

## Command-Line Mode

For automation and scripting, you can pass all options directly:

### 2. Cross-Platform (Translate Mode)

On macOS/Linux, or if you already have `.rpy` files (unpaked game), use the **translate** mode. This skips the UnRen step (which is Windows-only).

```bash
# Point to your game directory or 'tl' folder
python run_cli.py "/Users/user/Games/MyVisualNovel/game" --mode translate --target-lang tr
```

## Command Reference

### Positional Arguments
- `input_path`: Path to the game executable (`.exe`), project directory, or `tl` folder.

### Options
| Option | Default | Description |
| :--- | :--- | :--- |
| `--target-lang`, `-t` | `tr` | Target language code (e.g., `en`, `es`, `fr`, `ru`). |
| `--source-lang`, `-s` | `en` | Source language code. |
| `--engine`, `-e` | `google` | Translation engine (`google` or `deepl`). |
| `--mode` | `auto` | Operation mode: `auto`, `full` (UnRen+Trans), `translate` (Trans only). |
| `--config` | `None` | Path to a JSON configuration file to override specific settings. |
| `--proxy` | `False` | Enable proxy usage for translation requests. |
| `--verbose`, `-v` | `False` | Enable detailed debug logging. |

## Advanced Usage

### Using a Config File

You can use a config file to control advanced settings like concurrent threads, filters, and API keys.

1. Create a `config.json` (or use the one generated by the GUI).
2. Pass it to the CLI:

```bash
python run_cli.py "game/path" --config "my_config.json"
```

**Example Config (`my_config.json`):**
```json
{
    "translation_settings": {
        "max_concurrent_threads": 64,
        "translate_dialogue": true,
        "translate_menu": true,
        "translate_ui": false
    },
    "api_keys": {
        "deepl_api_key": "YOUR_KEY_HERE"
    }
}
```

### Automation Example (Batch Script)

You can create a script to translate multiple games automatically:

```batch
@echo off
set GAMES_DIR=C:\Games
for /d %%D in ("%GAMES_DIR%\*") do (
    echo Processing %%D...
    python run_cli.py "%%D\Game.exe" --target-lang tr --mode full --verbose
)
pause
```

## Platform Limitations

- **UnRen Support**: The UnRen decompilation tool is essentially a Windows Batch script suite. Therefore, the `full` mode is **only available on Windows**.
- **macOS/Linux**: You must manually extract the game files (if archived) or use the `translate` mode on an already extracted project source.
